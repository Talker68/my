<style>
  #confirmOrderForm.ng-submitted .form-control.ng-invalid, #confirmOrderForm .form-control.ng-touched.ng-invalid{
    border-color: red;
  }
</style>

<div class="l-title">Подтверждение заявки</div>



<form id='confirmOrderForm' name="confirmOrderCtrl.confirmOrderForm" ng-submit="confirmOrderCtrl.confirmOrderForm.$valid && confirmOrderCtrl.submit()" novalidate>

  <div id="driver_select">
    <h2>Выбор водителя</h2>

    <div class="form-group">
      <div class="radio">
        <label>
          <input type="radio" ng-model="confirmOrderCtrl.driverFromList" ng-value=true>
          Выбрать из списка
        </label>
      </div>

      <div class="radio">
        <label>
          <input type="radio" ng-model="confirmOrderCtrl.driverFromList" ng-value=false ng-click = "confirmOrderCtrl.driver = {}">
          Ввести вручную
        </label>
      </div>
    </div>



    <div class="form-group" ng-if="confirmOrderCtrl.driverFromList">
      <select
        name="driver" id="driver" class="form-control" required
        ng-model="confirmOrderCtrl.driver"
        ng-options="driver.driver for driver in confirmOrderCtrl.driversList">
        <option value="">-- Водитель --</option>
      </select>
    </div>

    <div class="form-group" ng-if="!confirmOrderCtrl.driverFromList">
      <div class="form-group">
        <label for="driver">ФИО</label>
        <input type="text" class="form-control" id="driver" placeholder="ФИО" name="driver" ng-model="confirmOrderCtrl.driver.driver" required>
      </div>

      <div class="form-group">
        <label for="driver_phone">Номер телефона</label>
        <input type="text" class="form-control" id="driver_phone" placeholder="Номер телефона" name="driver_phone" ng-model="confirmOrderCtrl.driver.driver_phone" required>
      </div>

      <div class="form-group">
        <label for="license_series">Права серия</label>
        <input type="text" class="form-control" id="license_series" placeholder="Права серия" name="license_series" ng-model="confirmOrderCtrl.driver.license_series" required>
      </div>

      <div class="form-group">
        <label for="license_series">Права номер</label>
        <input type="text" class="form-control" id="license_number" placeholder="Права номер" name="license_number" ng-model="confirmOrderCtrl.driver.license_number" required>
      </div>

      <div class="form-group">
        <label for="license_issue">Права выданы</label>
        <input type="date" class="form-control" id="license_issue" placeholder="Права выданы" name="license_issue" ng-model="confirmOrderCtrl.driver.license_issue" required>
      </div>

      <div class="form-group">
        <label for="license_valid">Права действительны до</label>
        <input type="date" class="form-control" id="license_valid" placeholder="Права действительны до" name="license_valid" ng-model="confirmOrderCtrl.driver.license_valid" required>
      </div>
    </div>
  </div>


  <div id="vehicle_select">
    <h2>Выбор машины</h2>

    <div class="form-group">
      <div class="radio">
        <label>
          <input type="radio" ng-model="confirmOrderCtrl.vehicleFromList" ng-value=true>
          Выбрать из списка
        </label>
      </div>

      <div class="radio">
        <label>
          <input type="radio" ng-model="confirmOrderCtrl.vehicleFromList" ng-value=false>
          Ввести вручную
        </label>
      </div>
    </div>

    <div class="form-group" ng-if="confirmOrderCtrl.vehicleFromList">
      <select
        name="vehicle" id="vehicle" class="form-control" required
        ng-model="confirmOrderCtrl.vehicle"
        ng-options="(vehicle.plate_number +' '+ vehicle.model) for vehicle in confirmOrderCtrl.vehicleList">
        <option value="">-- Машина --</option>
      </select>
    </div>

    <div class="form-group" ng-if="!confirmOrderCtrl.vehicleFromList">
      <!-- Модель  -->
      <div class="form-group">
        <label for="model">Модель</label>
        <input type="text" class="form-control" id="model" placeholder="Модель" name="model" ng-model="confirmOrderCtrl.vehicle.model" required>
      </div>
      
      <!-- Номер  -->
      <div class="form-group">
        <label for="plate_number">Номер</label>
        <input type="text" class="form-control" id="plate_number" placeholder="Номер" name="plate_number" ng-model="confirmOrderCtrl.vehicle.plate_number" required>
      </div>

      <!-- Грузоподъемность -->
      <div class="form-group">
        <label for="capacity">Грузоподъемность</label>
        <input type="number" class="form-control" id="capacity" placeholder="Грузоподъемность" name="capacity" ng-model="confirmOrderCtrl.vehicle.capacity" >
      </div>

      <div class="form-group">
        <label for="volume">Объем</label>
        <input type="number" class="form-control" id="volume" placeholder="Объем" name="volume" ng-model="confirmOrderCtrl.vehicle.volume" >
      </div>

      <!-- Год выпуска -->
      <div class="form-group">
        <label for="year">Год выпуска</label>
        <input type="number" class="form-control" id="year" placeholder="Год выпуска" name="year" ng-model="confirmOrderCtrl.vehicle.year" >
      </div>

      <!-- Тип отгрузки -->
      <div class="form-group">
        <label for="loading_type">Тип отгрузки</label>
        <select name="loading_type" id="loading_type" ng-model="confirmOrderCtrl.vehicle.loading_type" class="form-control" placeholder="Тип отгрузки" required>
          <option value="">-- Тип отгрузки --</option>
          <option ng-repeat="(key, value) in confirmOrderCtrl.loadingTypes" value="{{key}}">{{value}}</option>
        </select>
      </div>

      <!-- Полуприцеп (модель) -->
      <div class="form-group">
        <label for="semitrailer">Полуприцеп (модель)</label>
        <input type="text" class="form-control" id="semitrailer" placeholder="Полуприцеп" name="semitrailer" ng-model="confirmOrderCtrl.vehicle.semitrailer" >
      </div>

      <!-- Полуприцеп (номер) -->
      <div class="form-group">
        <label for="semitrailer_plate_number">Полуприцеп (номер)</label>
        <input type="text" class="form-control" id="semitrailer_plate_number" placeholder="Полуприцеп (номер)" name="semitrailer_plate_number" ng-model="confirmOrderCtrl.vehicle.semitrailer_plate_number" >
      </div>

    </div>
  </div>

  <div>
    <button type="submit">Подтвердить</button>
    <button type="submit">Отмена</button>
  </div>
</form>

